package application;

import application.services.CapsuleDtoAssembler;
import application.validation.chainsteps.Capsule;
import application.validation.chainsteps.CapsuleValidate;
import com.google.protobuf.ByteString;
import gen.javaproto.Dto;

import java.io.IOException;
import java.nio.charset.StandardCharsets;
import java.util.Base64;
import java.util.Scanner;

public class AppDeserialize {
    public static void main(String[] args) throws IOException {
        CapsuleDtoAssembler assembler = new CapsuleDtoAssembler();
        Scanner scanner = new Scanner(System.in);
            String in =
                    "rO0ABXNyADFhcHBsaWNhdGlvbi52YWxpZGF0aW9uLmNoYWluc3RlcHMuQ2Fwc3VsZVZhbGlkYXRl/QlgggUJBOICAAB4cgAxYXBwbGljYXRpb24udmFsaWRhdGlvbi5jaGFpbnN0ZXBzLkFic3RyYWN0Q2Fwc3VsZUYZgwoOL7pgAgADSQAGc3RhdHVzTAAJZXhjZXB0aW9udAAVTGphdmEvbGFuZy9FeGNlcHRpb247TAAHcGF5bG9hZHQAD0xqYXZhL3V0aWwvTWFwO3hw/////3NyAChhcHBsaWNhdGlvbi5leGNlcHRpb25zLkRlYWRsaW5lRXhjZXB0aW9u8l8skZwK4acCAAB4cgATamF2YS5sYW5nLkV4Y2VwdGlvbtD9Hz4aOxzEAgAAeHIAE2phdmEubGFuZy5UaHJvd2FibGXVxjUnOXe4ywMABEwABWNhdXNldAAVTGphdmEvbGFuZy9UaHJvd2FibGU7TAANZGV0YWlsTWVzc2FnZXQAEkxqYXZhL2xhbmcvU3RyaW5nO1sACnN0YWNrVHJhY2V0AB5bTGphdmEvbGFuZy9TdGFja1RyYWNlRWxlbWVudDtMABRzdXBwcmVzc2VkRXhjZXB0aW9uc3QAEExqYXZhL3V0aWwvTGlzdDt4cHEAfgAMdAAiQXBwZWxsbyBkYSByaW11b3ZlcmUgbm9uIHByZW5vdGF0b3VyAB5bTGphdmEubGFuZy5TdGFja1RyYWNlRWxlbWVudDsCRio8PP0iOQIAAHhwAAAAEXNyABtqYXZhLmxhbmcuU3RhY2tUcmFjZUVsZW1lbnRhCcWaJjbdhQIACEIABmZvcm1hdEkACmxpbmVOdW1iZXJMAA9jbGFzc0xvYWRlck5hbWVxAH4ACUwADmRlY2xhcmluZ0NsYXNzcQB+AAlMAAhmaWxlTmFtZXEAfgAJTAAKbWV0aG9kTmFtZXEAfgAJTAAKbW9kdWxlTmFtZXEAfgAJTAANbW9kdWxlVmVyc2lvbnEAfgAJeHABAAAAHHQAA2FwcHQAL2FwcGxpY2F0aW9uLnZhbGlkYXRpb24uY2hhaW5zdGVwcy5QYXJ0ZWNpcGFTdGVwdAASUGFydGVjaXBhU3RlcC5qYXZhdAAHZXhlY3V0ZXBwc3EAfgAQAQAAACZxAH4AEnQAKmFwcGxpY2F0aW9uLnZhbGlkYXRpb24uY2hhaW5zdGVwcy5BdXRoU3RlcHQADUF1dGhTdGVwLmphdmFxAH4AFXBwc3EAfgAQAQAAAA9xAH4AEnQAKGFwcGxpY2F0aW9uLnZhbGlkYXRpb24uUGFydGVjaXBhRGlzcGF0Y2h0ABZQYXJ0ZWNpcGFEaXNwYXRjaC5qYXZhdAAIZGlzcGF0Y2hwcHNxAH4AEAEAAACKcQB+ABJ0ACFhcHBsaWNhdGlvbi5zZXJ2aWNlcy5Vc2VyU2VydmljZXN0ABFVc2VyU2VydmljZXMuamF2YXQACXBhcnRlY2lwYXBwc3EAfgAQAQAAAmFxAH4AEnQAMWdlbi5qYXZhcHJvdG8uRnJvbnRlbmRTZXJ2aWNlc0dycGMkTWV0aG9kSGFuZGxlcnN0ABlGcm9udGVuZFNlcnZpY2VzR3JwYy5qYXZhdAAGaW52b2tlcHBzcQB+ABABAAAAtnEAfgASdABHaW8uZ3JwYy5zdHViLlNlcnZlckNhbGxzJFVuYXJ5U2VydmVyQ2FsbEhhbmRsZXIkVW5hcnlTZXJ2ZXJDYWxsTGlzdGVuZXJ0ABBTZXJ2ZXJDYWxscy5qYXZhdAALb25IYWxmQ2xvc2VwcHNxAH4AEAEAAAAjcQB+ABJ0ACtpby5ncnBjLlBhcnRpYWxGb3J3YXJkaW5nU2VydmVyQ2FsbExpc3RlbmVydAAoUGFydGlhbEZvcndhcmRpbmdTZXJ2ZXJDYWxsTGlzdGVuZXIuamF2YXEAfgAocHBzcQB+ABABAAAAF3EAfgASdAAkaW8uZ3JwYy5Gb3J3YXJkaW5nU2VydmVyQ2FsbExpc3RlbmVydAAhRm9yd2FyZGluZ1NlcnZlckNhbGxMaXN0ZW5lci5qYXZhcQB+AChwcHNxAH4AEAEAAAAocQB+ABJ0AEdpby5ncnBjLkZvcndhcmRpbmdTZXJ2ZXJDYWxsTGlzdGVuZXIkU2ltcGxlRm9yd2FyZGluZ1NlcnZlckNhbGxMaXN0ZW5lcnEAfgAucQB+AChwcHNxAH4AEAEAAABWcQB+ABJ0ADFpby5ncnBjLkNvbnRleHRzJENvbnRleHR1YWxpemVkU2VydmVyQ2FsbExpc3RlbmVydAANQ29udGV4dHMuamF2YXEAfgAocHBzcQB+ABABAAABZHEAfgASdAA4aW8uZ3JwYy5pbnRlcm5hbC5TZXJ2ZXJDYWxsSW1wbCRTZXJ2ZXJTdHJlYW1MaXN0ZW5lckltcGx0ABNTZXJ2ZXJDYWxsSW1wbC5qYXZhdAAKaGFsZkNsb3NlZHBwc3EAfgAQAQAAA11xAH4AEnQAU2lvLmdycGMuaW50ZXJuYWwuU2VydmVySW1wbCRKdW1wVG9BcHBsaWNhdGlvblRocmVhZFNlcnZlclN0cmVhbUxpc3RlbmVyJDFIYWxmQ2xvc2VkdAAPU2VydmVySW1wbC5qYXZhdAAMcnVuSW5Db250ZXh0cHBzcQB+ABABAAAAJXEAfgASdAAgaW8uZ3JwYy5pbnRlcm5hbC5Db250ZXh0UnVubmFibGV0ABRDb250ZXh0UnVubmFibGUuamF2YXQAA3J1bnBwc3EAfgAQAQAAAIVxAH4AEnQAJGlvLmdycGMuaW50ZXJuYWwuU2VyaWFsaXppbmdFeGVjdXRvcnQAGFNlcmlhbGl6aW5nRXhlY3V0b3IuamF2YXEAfgA/cHBzcQB+ABACAAAEeHB0ACdqYXZhLnV0aWwuY29uY3VycmVudC5UaHJlYWRQb29sRXhlY3V0b3J0ABdUaHJlYWRQb29sRXhlY3V0b3IuamF2YXQACXJ1bldvcmtlcnQACWphdmEuYmFzZXQABjIxLjAuM3NxAH4AEAIAAAKCcHQALmphdmEudXRpbC5jb25jdXJyZW50LlRocmVhZFBvb2xFeGVjdXRvciRXb3JrZXJxAH4ARXEAfgA/cQB+AEdxAH4ASHNxAH4AEAIAAAYvcHQAEGphdmEubGFuZy5UaHJlYWR0AAtUaHJlYWQuamF2YXEAfgA/cQB+AEdxAH4ASHNyAB9qYXZhLnV0aWwuQ29sbGVjdGlvbnMkRW1wdHlMaXN0ergXtDynnt4CAAB4cHhzcgARamF2YS51dGlsLkhhc2hNYXAFB9rBwxZg0QMAAkYACmxvYWRGYWN0b3JJAAl0aHJlc2hvbGR4cD9AAAAAAAAGdwgAAAAIAAAAAnQAEnN0dWRlbnRlX2FwcGVsbG9pZHNyAA5qYXZhLmxhbmcuTG9uZzuL5JDMjyPfAgABSgAFdmFsdWV4cgAQamF2YS5sYW5nLk51bWJlcoaslR0LlOCLAgAAeHAAAAAAAAAABXQAFHN0dWRlbnRlX2NyZWRlbnppYWxpc3IAN2NvbS5nb29nbGUucHJvdG9idWYuR2VuZXJhdGVkTWVzc2FnZUxpdGUkU2VyaWFsaXplZEZvcm0AAAAAAAAAAAIAA1sAB2FzQnl0ZXN0AAJbQkwADG1lc3NhZ2VDbGFzc3QAEUxqYXZhL2xhbmcvQ2xhc3M7TAAQbWVzc2FnZUNsYXNzTmFtZXEAfgAJeHB1cgACW0Ks8xf4BghU4AIAAHhwAAAADgoEMTExMRIGQUJDMTIzdnIAGWdlbi5qYXZhcHJvdG8uQ3JlZGVudGlhbHMAAAAAAAAAAAIAA0IAFW1lbW9pemVkSXNJbml0aWFsaXplZEwAA2NmX3QAEkxqYXZhL2xhbmcvT2JqZWN0O0wABG1hdF9xAH4AXnhyACZjb20uZ29vZ2xlLnByb3RvYnVmLkdlbmVyYXRlZE1lc3NhZ2VWMwAAAAAAAAABAgABTAANdW5rbm93bkZpZWxkc3QAJUxjb20vZ29vZ2xlL3Byb3RvYnVmL1Vua25vd25GaWVsZFNldDt4cHQAGWdlbi5qYXZhcHJvdG8uQ3JlZGVudGlhbHN4"
                    ;
            Base64.Decoder decoder = Base64.getDecoder();
            byte[] b =decoder.decode(in);
            Dto dto = Dto.newBuilder().setUnparsedDto(ByteString.copyFrom(b)).build();
            CapsuleValidate cap = assembler.disassembleValidate(dto);
            System.out.println(cap);

    }
}
